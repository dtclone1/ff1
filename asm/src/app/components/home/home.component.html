<!-- Hero Banner Carousel -->
<div id="mainBanner" class="carousel slide hero-carousel" data-bs-ride="carousel">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#mainBanner" data-bs-slide-to="0" class="active" aria-current="true"
      aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#mainBanner" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#mainBanner" data-bs-slide-to="2" aria-label="Slide 3"></button>
  </div>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&w=1200&q=80"
        class="d-block w-100" alt="Laptop 1" />
      <div class="carousel-caption">
        <div class="caption-content">
          <h2 class="display-4 fw-bold">Chào mừng đến với Laptop Store</h2>
          <p class="lead">Khuyến mãi lớn mùa hè cho tất cả các dòng laptop!</p>
          <button class="btn btn-primary btn-lg" (click)="scrollToProducts()">
            Mua ngay
          </button>
        </div>
      </div>
    </div>
    <div class="carousel-item">
      <img src="https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=1200&q=80"
        class="d-block w-100" alt="Laptop 2" />
      <div class="carousel-caption">
        <div class="caption-content">
          <h2 class="display-4 fw-bold">Laptop Gaming Hiện Đại</h2>
          <p class="lead">Hiệu năng mạnh mẽ, giá cực tốt!</p>
          <button class="btn btn-primary btn-lg" [routerLink]="['/products']">
            Xem thêm
          </button>
        </div>
      </div>
    </div>
    <div class="carousel-item">
      <img src="https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=1200&q=80"
        class="d-block w-100" alt="Laptop 3" />
      <div class="carousel-caption">
        <div class="caption-content">
          <h2 class="display-4 fw-bold">Laptop Văn Phòng Cao Cấp</h2>
          <p class="lead">Thiết kế mỏng nhẹ, pin lâu, bảo hành chính hãng.</p>
          <button class="btn btn-primary btn-lg" [routerLink]="['/products']">
            Khám phá
          </button>
        </div>
      </div>
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#mainBanner" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#mainBanner" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<!-- Features Section -->
<section class="features-section py-5">
  <div class="container">
    <div class="row g-4">
      <div class="col-md-3">
        <div class="feature-item">
          <div class="feature-icon">
            <i class="fas fa-shipping-fast"></i>
          </div>
          <h5>Giao hàng miễn phí</h5>
          <p>Cho đơn hàng từ 10 triệu đồng</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="feature-item">
          <div class="feature-icon">
            <i class="fas fa-shield-alt"></i>
          </div>
          <h5>Bảo hành chính hãng</h5>
          <p>Từ 12 đến 36 tháng</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="feature-item">
          <div class="feature-icon">
            <i class="fas fa-sync-alt"></i>
          </div>
          <h5>Đổi trả 30 ngày</h5>
          <p>Nếu sản phẩm lỗi</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="feature-item">
          <div class="feature-icon">
            <i class="fas fa-headset"></i>
          </div>
          <h5>Hỗ trợ 24/7</h5>
          <p>Tư vấn trực tuyến</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Flash Sale Section -->
<section class="flash-sale-section py-5">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Flash Sale</h2>
      <div class="countdown-timer">
        <div class="countdown-item">
          <span class="countdown-value">{{ countdownDays }}</span>
          <span class="countdown-label">Ngày</span>
        </div>
        <div class="countdown-item">
          <span class="countdown-value">{{ countdownHours }}</span>
          <span class="countdown-label">Giờ</span>
        </div>
        <div class="countdown-item">
          <span class="countdown-value">{{ countdownMinutes }}</span>
          <span class="countdown-label">Phút</span>
        </div>
        <div class="countdown-item">
          <span class="countdown-value">{{ countdownSeconds }}</span>
          <span class="countdown-label">Giây</span>
        </div>
      </div>
    </div>

    <div class="row g-4">
      <div class="col-md-6 col-lg-3" *ngFor="let laptop of featuredLaptops.slice(0, 4)">
        <div class="product-card flash-sale">
          <div class="product-badge">-{{ laptop.discountPercent }}%</div>
          <div class="product-thumb">
            <img [src]="laptop.image" [alt]="laptop.name" />
            <div class="product-quick-actions">
              <button class="quick-action-btn" (click)="addToCart(laptop)" title="Thêm vào giỏ hàng">
                <i class="fas fa-cart-plus"></i>
              </button>
              <button class="quick-action-btn" [routerLink]="['/product', laptop.id]" title="Xem chi tiết">
                <i class="fas fa-eye"></i>
              </button>
            </div>
          </div>
          <div class="product-info">
            <h5 class="product-title">{{ laptop.name }}</h5>
            <div class="product-price">
              <span class="sale-price">{{ laptop.price * 25000 | number:'1.0-0' }} đ</span>
              <span class="original-price">{{ (laptop?.originalPrice || 0)* 25000 | number:'1.0-0' }} đ</span>
            </div>
            <div class="product-sold">
              <div class="progress">
                <div class="progress-bar" [style.width.%]="laptop.soldPercent"></div>
              </div>
              <span class="sold-text">Đã bán {{ laptop.soldCount }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="text-center mt-4">
      <button class="btn btn-outline-primary" [routerLink]="['/products']">
        Xem tất cả
      </button>
    </div>
  </div>
</section>

<!-- Categories Section -->
<section class="categories-section py-5 bg-light">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Danh mục sản phẩm</h2>
    </div>

    <div class="row g-4">
      <div class="col-6 col-md-3" *ngFor="let category of categories">
        <div class="category-card" [routerLink]="['/products']" [queryParams]="{ category: category.id }">
          <div class="category-icon">
            <i [class]="category.icon"></i>
          </div>
          <h5 class="category-title">{{ category.name }}</h5>
          <span class="category-count">{{ category.count }} sản phẩm</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Products Section -->
<section id="featuredProducts" class="featured-products-section py-5">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Sản phẩm nổi bật</h2>
      <div class="section-tabs">
        <button class="tab-btn active" (click)="filterProducts('all')">
          Tất cả
        </button>
        <button class="tab-btn" (click)="filterProducts('gaming')">
          Gaming
        </button>
        <button class="tab-btn" (click)="filterProducts('business')">
          Văn phòng
        </button>
        <button class="tab-btn" (click)="filterProducts('premium')">
          Cao cấp
        </button>
      </div>
    </div>

    <div class="row g-4">
      <div class="col-12 col-sm-6 col-md-4 col-lg-3" *ngFor="let laptop of filteredLaptops">
        <div class="product-card h-100 d-flex flex-column">
          <div class="product-thumb">
            <img [src]="laptop.image" [alt]="laptop.name" />
            <div class="product-quick-actions">
              <button class="quick-action-btn" (click)="addToCart(laptop)" title="Thêm vào giỏ hàng">
                <i class="fas fa-cart-plus"></i>
              </button>
              <button class="quick-action-btn" [routerLink]="['/product', laptop.id]" title="Xem chi tiết">
                <i class="fas fa-eye"></i>
              </button>
              <button class="quick-action-btn" (click)="toggleWishlist(laptop)" title="Thêm vào yêu thích">
                <i class="far" [ngClass]="
                    isInWishlist(laptop.id) ? 'fas fa-heart' : 'far fa-heart'
                  "></i>
              </button>
            </div>
          </div>
          <div class="product-info">
            <h5 class="product-title">{{ laptop.name }}</h5>
            <p class="product-brand">{{ laptop.brand }}</p>
            <div class="product-price">
              <span class="current-price">{{ laptop.price * 25000 | number:'1.0-0' }} đ</span>
            </div>
            <div class="product-specs">
              <span><i class="fas fa-microchip"></i> {{ laptop.specs.cpu }}</span>
              <span><i class="fas fa-memory"></i> {{ laptop.specs.ram }}</span>
              <span><i class="fas fa-hdd"></i> {{ laptop.specs.storage }}</span>
            </div>
            <button class="btn btn-primary w-100 mt-3" (click)="addToCart(laptop)">
              <i class="fas fa-cart-plus me-2"></i>Thêm vào giỏ hàng
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials-section py-5 bg-light">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Khách hàng nói gì về chúng tôi</h2>
    </div>

    <div class="row g-4">
      <div class="col-md-4" *ngFor="let testimonial of testimonials">
        <div class="testimonial-card">
          <div class="testimonial-rating">
            <i class="fas fa-star" *ngFor="let star of [].constructor(testimonial.rating)"></i>
          </div>
          <p class="testimonial-text">"{{ testimonial.text }}"</p>
          <div class="testimonial-author">
            <img [src]="testimonial.avatar" [alt]="testimonial.name" class="testimonial-avatar" />
            <div>
              <h5 class="testimonial-name">{{ testimonial.name }}</h5>
              <p class="testimonial-title">{{ testimonial.title }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Brands Section -->
<section class="brands-section py-5">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Thương hiệu đối tác</h2>
    </div>

    <div class="brands-slider">
      <div class="brand-item" *ngFor="let brand of brands">
        <img [src]="brand.logo" [alt]="brand.name" />
      </div>
    </div>
  </div>
</section>

<!-- Newsletter Section -->
<section class="newsletter-section py-5 bg-primary text-white">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <h3 class="newsletter-title">Đăng ký nhận tin</h3>
        <p class="newsletter-text">
          Nhận thông tin về sản phẩm mới và khuyến mãi đặc biệt.
        </p>
      </div>
      <div class="col-lg-6">
        <form class="newsletter-form" (ngSubmit)="subscribeNewsletter()">
          <div class="input-group">
            <input type="email" class="form-control" placeholder="Nhập email của bạn" [(ngModel)]="newsletterEmail"
              name="email" required />
            <button class="btn btn-light" type="submit">Đăng ký</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

<!-- Toast Notification -->
<div class="toast-container position-fixed bottom-0 end-0 p-3">
  <div class="toast align-items-center text-white bg-success border-0" [ngClass]="{ show: showToast }" role="alert"
    aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body">
        <i class="fas fa-check-circle me-2"></i> {{ toastMessage }}
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" (click)="hideToast()"></button>
    </div>
  </div>
</div>
